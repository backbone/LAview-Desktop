SET (BinName laview-desktop-${MAJOR})
FILE (GLOB_RECURSE BinSources RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} *.vala)
SET (BinPackages gtk+-3.0 gee-0.8 gobject-plugin-iface-0 laview-core-iface-0 laview-core-0 posix)
SET (BinPkgModules gtk+-3.0 gee-0.8 laview-core-0)
SET (BinCustomVapis ${CMAKE_SOURCE_DIR}/config/Config.vapi)
INCLUDE_DIRECTORIES ("${CMAKE_BINARY_DIR}/config")
SET (BinInstall ON)
SET (BinExtraSources "${CMAKE_SOURCE_DIR}/res/laview-desktop.rc" w32hooks.c)
IF (WIN32)
  SET (CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -mwindows")
  SET (CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -Wl,--export-all-symbols")
  SET (BinValaOpts -D WINDOWS)
ELSE (WIN32)
  SET (BinValaOpts -D UNIX)
ENDIF (WIN32)
INCLUDE (ValaBinCommonRules)
